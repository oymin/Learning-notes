# 面试题

- [RabbitMQ](#rabbitmq)

---

## RabbitMQ <div id="rabbitmq" />

> Rabbitmq 怎么解决消息丢失问题?

在Rabbitmq中我们可以通过持久化来解决因为服务器异常而导致丢失的问题

> 消息到达服务器之前丢失,那么持久化也不能解决此问题,因为消息根本就没有到达Rabbit服务器?

RabbitMQ为我们提供了两种方式:

1. 通过AMQP事务机制实现，这也是AMQP协议层面提供的解决方案；

2. 通过将channel设置成confirm模式来实现

## 乐观锁和悲观锁

悲观锁：就是在各种情况下，都上锁，上锁之后，就只有一个线程可以操作这一条数据了

乐观锁：是不加锁的，每个线程都可以任意操作。判断当前数据的版本号是否一致
